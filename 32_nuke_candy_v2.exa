@REP 5
REPL START
VOID M
@END
HALT

MARK START
LINK 800
LINK 799

COPY #ZGC0 X
@REP 4
TEST #ZGC@{1,1} > X
FJMP A@{1,1}
COPY #ZGC@{1,1} X
MARK A@{1,1}
@END

@REP 5
TEST #ZGC@{0,1} = X
FJMP B@{0,1}
COPY @{0,1} X
JUMP CONT
MARK B@{0,1}
@END

MARK CONT
LINK -1

LINK 798
TEST X = 0
TJMP SWITCHEROFF
LINK 800
TEST X = 1
TJMP SWITCHEROFF
LINK 800
TEST X = 2
TJMP SWITCHEROFF
LINK 800
TEST X = 3
TJMP SWITCHEROFF
LINK 800
MARK SWITCHEROFF
COPY 0 #POWR
COPY 0 M
HALT
